<!DOCTYPE html>
<html layout:decorate="~{layouts/site}"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Sự kiện đã đăng ký</title>
</head>
<body>
	<div layout:fragment="content">
		<div class="page-content bg-white">
			<!-- Banner -->
			<div class="page-banner ovbl-dark"
				style="background-image: url(@{/assets/images/banner/banner1.jpg});">
				<div class="container">
					<div class="page-banner-entry">
						<h1 class="text-white">Sự kiện đã đăng ký</h1>
					</div>
				</div>
			</div>

			<!-- Breadcrumb -->
			<div class="breadcrumb-row">
				<div class="container">
					<ul class="list-inline">
						<li><a th:href="@{/}">Trang chủ</a></li>
						<li>Sự kiện của tôi</li>
					</ul>
				</div>
			</div>

			<div class="content-block">
				<div class="section-area section-sp1">
					<div class="container">
						<div class="row">
							<div class="col-lg-5 col-sm-12">
								<h5 class="mb-3">Danh sách chưa điểm danh</h5>
								<table class="table table-striped table-hover table-bordered">

									<thead class="thead-dark">
										<tr>
											<th scope="col">Tên sự kiện</th>
											<th scope="col">Ảnh sự kiện</th>
											<th scope="col">Điểm danh</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="diemDanh : ${chuaDiemDanhs}">
											<td th:text="${diemDanh.suKien.tenSuKien}">Nguyễn Văn A</td>
											<td><img th:src="${diemDanh.suKien.anh}" width="300" /></td>
											<td><form
													th:action="@{/diemdanh/{id}(id=${diemDanh.id})}"
													method="post">
													<button type="submit" class="btn btn-success">Điểm
														danh</button>
												</form></td>
										</tr>
										<tr th:if="${#lists.isEmpty(chuaDiemDanhs)}">
											<td colspan="3" class="text-center">Không có sự kiện nào
												chưa điểm danh.</td>
									</tbody>
								</table>
							</div>
							<div class="col-lg-7 col-sm-12">
								<h5 class="mb-3">Danh sách đã điểm danh</h5>
								<table class="table table-striped table-hover table-bordered">

									<thead class="thead-dark">
										<tr>
											<th scope="col">Tên sự kiện</th>
											<th scope="col">Ảnh sự kiện</th>
											<th scope="col">Ảnh điểm danh</th>
											<th scope="col">Điểm danh</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="diemDanh : ${daDiemDanhs}">
											<td th:text="${diemDanh.suKien.tenSuKien}">Nguyễn Văn A</td>
											<td><img th:src="${diemDanh.suKien.anh}" width="300" /></td>
											<td><img th:src="${diemDanh.anhDiemDanh}" width="300" /></td>
											<td><form
													th:action="@{/diemdanh/{id}(id=${diemDanh.id})}"
													method="post">
													<button type="submit" class="btn btn-warning">Điểm
														danh lại</button>
												</form></td>
										</tr>
										<tr th:if="${#lists.isEmpty(daDiemDanhs)}">
											<td colspan="4" class="text-center">Không có sự kiện nào
												đã điểm danh.</td>
									</tbody>
								</table>
							</div>
						</div>
						<div class="mt-3">
							<h5 class="mb-3">Danh sách sự kiện sắp tới</h5>
							<div th:unless="${#lists.isEmpty(suKiens)}" class="row g-4">


								<div class="col-lg-4 col-md-6 col-sm-12"
									th:each="sk : ${suKiens}">
									<div class="card event-card h-100">
										<img th:src="${sk.anh}" alt="Ảnh sự kiện" class="event-img"
											onerror="this.src='/assets/images/default-event.jpg'">
										<div class="card-body">
											<h5 class="card-title text-primary fw-bold"
												th:text="${sk.tenSuKien}"></h5>
											<p class="card-text text-muted mb-2">
												<i class="bi bi-clock"></i> <span
													th:text="${#temporals.format(sk.thoiGianBatDau, 'dd/MM/yyyy HH:mm')}"></span>
											</p>
											<p class="card-text text-muted">
												<i class="bi bi-geo-alt"></i> <span th:text="${sk.diaChi}"></span>
											</p>
											<a class="btn btn-outline-primary btn-sm"
												th:href="@{'/Sukien/' + ${sk.id} + '/' + ${sk.biDanh} + '.html'}">
												<i class="bi bi-eye"></i> Xem chi tiết
											</a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
